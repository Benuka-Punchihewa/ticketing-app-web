{"ast":null,"code":"var _jsxFileName = \"/home/supun/Documents/ticketing csse/ticketing-app-web/src/views/Bus.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Grid, Box, TextField, MenuItem, Typography, CircularProgress, Button } from \"@mui/material\";\nimport { popAlert, popDangerPrompt } from \"../utils/alerts\";\nimport bus from \"../models/bus\";\nimport { createBus } from \"../services/bus.service\";\nimport colors from \"../assets/styles/colors\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Bus = () => {\n  _s();\n  const [inputs, setInputs] = useState(bus);\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [refresh, setRefresh] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    const response = await createBus(inputs);\n    if (response.success) {\n      var _response$data, _response$data2;\n      setRefresh(!refresh);\n      (response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.message) && popAlert(\"Success!\", response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.message, \"success\").then(res => {\n        setShowPopup(false);\n      });\n    } else {\n      var _response$data3, _response$data4, _response$data5;\n      (response === null || response === void 0 ? void 0 : (_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.message) && popAlert(\"Error!\", response === null || response === void 0 ? void 0 : (_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.message, \"error\");\n      (response === null || response === void 0 ? void 0 : (_response$data5 = response.data) === null || _response$data5 === void 0 ? void 0 : _response$data5.data) && setErrors(response.data.data);\n    }\n    setLoading(false);\n  };\n  const handleClear = () => {\n    setInputs(bus);\n  };\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      fontWeight: \"bold\",\n      sx: {\n        mb: 2\n      },\n      children: \"Add Bus\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          name: \"_id\",\n          variant: \"filled\",\n          label: \"Bus Id\",\n          fullWidth: true,\n          value: inputs._id,\n          onChange: e => setInputs({\n            ...inputs,\n            _id: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), errors[\"_id\"] && /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          children: errors[\"_id\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          name: \"driver\",\n          variant: \"filled\",\n          label: \"Driver\",\n          fullWidth: true,\n          value: inputs.driver,\n          onChange: e => setInputs({\n            ...inputs,\n            driver: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), errors[\"driver\"] && /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          children: errors[\"driver\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 2,\n          display: \"flex\",\n          justifyContent: \"flex-end\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"reset\",\n          variant: \"contained\",\n          onClick: handleClear,\n          sx: {\n            py: 2,\n            px: 5,\n            mr: 2,\n            backgroundColor: colors.grey\n          },\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          sx: {\n            py: 2,\n            px: 5\n          },\n          disabled: loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            color: \"secondary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 24\n          }, this) : \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(Bus, \"gFoh8LsW26hMxIK7iLkoNDWzuDc=\");\n_c = Bus;\nexport default Bus;\nvar _c;\n$RefreshReg$(_c, \"Bus\");","map":{"version":3,"names":["React","useState","Grid","Box","TextField","MenuItem","Typography","CircularProgress","Button","popAlert","popDangerPrompt","bus","createBus","colors","Bus","inputs","setInputs","errors","setErrors","loading","setLoading","showPopup","setShowPopup","refresh","setRefresh","handleSubmit","e","preventDefault","response","success","data","message","then","res","handleClear","mb","_id","target","value","driver","display","justifyContent","py","px","mr","backgroundColor","grey"],"sources":["/home/supun/Documents/ticketing csse/ticketing-app-web/src/views/Bus.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Grid,\n  Box,\n  TextField,\n  MenuItem,\n  Typography,\n  CircularProgress,\n  Button,\n} from \"@mui/material\";\nimport { popAlert, popDangerPrompt } from \"../utils/alerts\";\nimport bus from \"../models/bus\";\nimport { createBus } from \"../services/bus.service\";\nimport colors from \"../assets/styles/colors\";\n\nconst Bus = () => {\n  const [inputs, setInputs] = useState(bus);\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [refresh, setRefresh] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    const response = await createBus(inputs);\n\n    if (response.success) {\n      setRefresh(!refresh);\n      response?.data?.message &&\n        popAlert(\"Success!\", response?.data?.message, \"success\").then((res) => {\n          setShowPopup(false);\n        });\n    } else {\n      response?.data?.message &&\n        popAlert(\"Error!\", response?.data?.message, \"error\");\n      response?.data?.data && setErrors(response.data.data);\n    }\n    setLoading(false);\n  };\n\n  const handleClear = () => {\n    setInputs(bus);\n  };\n\n  return (\n    <React.Fragment>\n      <Typography variant=\"h4\" fontWeight=\"bold\" sx={{ mb: 2 }}>\n        Add Bus\n      </Typography>\n      <form onSubmit={handleSubmit}>\n        <Box sx={{ mb: 2 }}>\n          <TextField\n            name=\"_id\"\n            variant=\"filled\"\n            label=\"Bus Id\"\n            fullWidth\n            value={inputs._id}\n            onChange={(e) =>\n              setInputs({\n                ...inputs,\n                _id: e.target.value,\n              })\n            }\n          />\n          {errors[\"_id\"] && (\n            <Typography color=\"error\">{errors[\"_id\"]}</Typography>\n          )}\n        </Box>\n\n        <Box sx={{ mb: 2 }}>\n          <TextField\n            name=\"driver\"\n            variant=\"filled\"\n            label=\"Driver\"\n            fullWidth\n            value={inputs.driver}\n            onChange={(e) =>\n              setInputs({\n                ...inputs,\n                driver: e.target.value,\n              })\n            }\n          />\n          {errors[\"driver\"] && (\n            <Typography color=\"error\">{errors[\"driver\"]}</Typography>\n          )}\n        </Box>\n        <Box sx={{ mb: 2, display: \"flex\", justifyContent: \"flex-end\" }}>\n          <Button\n            type=\"reset\"\n            variant=\"contained\"\n            onClick={handleClear}\n            sx={{ py: 2, px: 5, mr: 2, backgroundColor: colors.grey }}\n          >\n            Clear\n          </Button>\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            sx={{ py: 2, px: 5 }}\n            disabled={loading}\n          >\n            {loading ? <CircularProgress color=\"secondary\" /> : \"Save\"}\n          </Button>\n        </Box>\n      </form>\n    </React.Fragment>\n  );\n};\n\nexport default Bus;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}